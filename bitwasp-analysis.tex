% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is the TeX file for BitWasp Architecture Analysis for the project AmpedMarket
% https://github.com/ampedup/AmpedMarket

% For more information contact amphetamine@tormail.org

% This TeX file will build with just texlive-base and texlive-latex-base. Keep it that way!

\documentclass[11pt]{article} % use larger type; default would be 10pt

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)


%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....

\usepackage{graphicx} % support the \includegraphics command and options

%%% PACKAGES
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim


%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}


%%% END Article customizations

%%% The "real" document content comes below...

\title{BitWasp Architecture Analysis}
\author{ampedup [amphetamine@tormail.org]}
\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\begin{document}
\maketitle

\newpage

\tableofcontents

\newpage

\section{Introduction}

This document aims to provide a clear, well specified summary of the BItWasp project and very clear indiciations of its progress so far based solely on the existing source for BitWasp.

\subsection{Rationale}

Properly specifying BitWasp and evaluating its progress is a key step before performing any modifications to the software. This information will be invaluable to further project decision making and will also greatly benefit the original BitWasp project.

\subsection{Methodology}

The structure analysis of the software has been done using Visual Paradigm to extract class data organized by directory. Dependencies and coding conventions are discovered through both the UML class design and manual code auditing. 

\newpage

\section{Coding Conventions}
\subsection{Naming Conventions}
\subsubsection{Classes}
\subsubsection{Methods}
\subsubsection{Attributes}
\subsubsection{Instance Variables}
\subsection{Syntax Conventions}
\subsubsection{PHP Tags}
\subsubsection{Classes}
\subsection{Layout Conventions}
\newpage

\section{Dependencies}
\subsection{Frameworks}
\subsubsection{CodeIgniter}
\subsection{PHP Libraries}
\subsubsection{php-gd}
\subsection{External Software}
\subsubsection{GPG}
\subsubsection{bitcoind}
\newpage

\section{Path Structure}
\subsection{Application (application/)}
\subsubsection*{config}
\textbf{} \\
\subsubsection*{controllers}
\subsubsection*{errors}
\subsubsection*{language}
\subsubsection*{libraries}
\subsubsection*{models}
\subsubsection*{views}
\subsection{System (system/)}
\subsubsection*{core}
\subsubsection*{database}
\subsubsection*{helpers}
\subsubsection*{language}
\subsubsection*{libraries}
\subsection{Root directory (/)}
\newpage

\section{Class Structure}
\subsection{Controllers}
\subsubsection{Account}
\begin{description}
\item[Description:] The class handles the Account management interface. Extends CI\_Controller.
\item[Attributes:] None.
\item[Methods:] \textbf{ }
\begin{description}
\item[\_\_construct()]  \textbf{ }\\
Constructor for the Account object. Calls the parent constuctor and loads required libraries and models.
\item[index()]  \textbf{ }\\
Loads data for the account/index page ("My Account") and loads the layout library.
\item[edit()]  \textbf{ }\\
Loads data for the account/edit page ("Edit Account") and loads the layout library.
\item[replacePGP()]  \textbf{ }\\
Loads data for the account/replacePGP page ("Replace PGP key"), handles the updating of PGP keys and loads the layout library.
\item[update()]  \textbf{ } \\
Handles updating of the account information.
\item[deletePubKey()]  \textbf{ }\\
Delete the stored pubKey for the user, and disable two-step authentication if necessary.
\end{description} 
\end{description} 
\subsubsection{Admin}
\begin{description}
\item[Description:] The class handles the Admin management interface. Extends CI\_Controller.
\item[Attributes:] None.
\item[Methods:] \textbf{ }
\begin{description}
\item[\_\_construct()]  \textbf{ }\\
Constructor for the Account object. Calls the parent constuctor and loads required the model.
\item[index()]  \textbf{ }\\
Loads data for the admin/siteConfig page ("Admin Panel") and loads the layout library.
\item[users(\$userHash = NULL)]  \textbf{ }\\
Loads data for the admin/users page ("Users") and loads the layout library.
\item[editConfig()]  \textbf{ }\\
Loads data for the admin/editConfig page ("Edit Configuration") and loads the layout library.
\item[updateConfig()]  \textbf{ }\\
Handles updating of the site configuration.
\item[fixOrphans()]  \textbf{ }\\
Handles the removal of orphan categories.
\item[removeCategory()]  \textbf{ }\\
Loads data for the admin/removeCategory page ("Remove Category"), handles category removal and loads the layout library.
\item[addCategory()]  \textbf{ }\\
Loads data for the admin/addCategory page ("Add Category"), handles category addition and loads the layout library.
\item[check\_parentID\_exists(\$parentID)]  \textbf{ }\\
\textbf{Method does not follow naming conventions!} Checks that the category identified by \$parentID has a parent that exists.
\item[check\_category\_exists(\$id)]  \textbf{ }\\
\textbf{Method does not follow naming conventions!} Checks that the category identified by \$id exists.
\end{description} 
\end{description} 
\subsubsection{Bitcoin}
\subsubsection{Error}
\subsubsection{Home}
\subsubsection{Items}
\subsubsection{Listings}
\subsubsection{Messages}
\subsubsection{Orders}
\subsubsection{Pages}
\subsubsection{Users}


\subsection{Libraries}
\subsubsection{General}
\subsubsection{jsonRPCClient}
\subsubsection{Layout}
\subsubsection{My\_captcha}
\subsubsection{My\_config}
\subsubsection{My\_image}
\subsubsection{My\_session}


\subsection{Models}
\subsubsection{Accounts\_model}
\subsubsection{Admin}
\subsubsection{Bitcoin}
\subsubsection{Error}
\subsubsection{Home}
\subsubsection{Items}
\subsubsection{Account}
\subsubsection{Admin}
\subsubsection{Bitcoin}
\subsubsection{Error}
\subsubsection{Home}
\subsubsection{Items}

\end{document}
